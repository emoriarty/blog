<!DOCTYPE html>
<html lang="es">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Surcando caminos de hierro</title>
  <meta name="description" content="Elia observaba fascinada la consola llena de indicadores, palancas y botones mientras el maquinista, vestido de uniforme, le mostraba la cabina de la locomot...">

  <link
    rel="canonical"
    href="http://nocturnidades.blog/relatos/surcando-caminos-de-hierro">
  <link
    rel="alternate"
    type="application/rss+xml"
    title="Nocturnidades"
    href="/feed.xml">
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin-ext">
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto+Condensed">
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto">
  <link
    rel="stylesheet"
    href="/css/main.css">
  <link
    rel="stylesheet"
    href="/css/syntax.css">
  
        <style>
          .placeholder {
            background-color: #f6f6f6;
            background-size: cover;
            background-repeat: no-repeat;
            position: relative;
            overflow: hidden;
          }

          .placeholder img {
            position: absolute;
            opacity: 0;
            top: 0;
            left: 0;
            width: 100%;
            transition: opacity 1s linear;
          }

          .placeholder img.loaded {
            opacity: 1;
          }

          .img-small {
            filter: blur(50px);
            /* this is needed so Safari keeps sharp edges */
            transform: scale(1);
          }
        </style>
      
  <script type="text/javascript">/**
 * TODO
 * - Improve throttling performance: prevent once the loader image is executed
 *   being called again.
 */
(function () {
  var reduce = (function () {
    var reduce = Array.prototype.reduce;
    return function reduceFn (list, fn, acc) {
      return reduce.call(list, fn, acc);
    };
  })();

  var push = (function () {
    var concat = Array.prototype.concat;
    return function pushFn (list, item) {
      return concat.call(list, [item]);
    };
  })();

  function getViewportBottomPosition () {
    return window.scrollY + window.innerHeight;
  }

  function throttle (func, wait) {
    var timeout;
    return function () {
      if (!timeout) {
        var context = this, args = arguments;
        timeout = setTimeout(function() {
          func.apply(context, args);
          timeout = null;
        }, wait);
      }
    };
  }

  function curry (uncurried) {
    var parameters = Array.prototype.slice.call(arguments, 1);
    return function() {
      return uncurried.apply(this, parameters.concat(
        Array.prototype.slice.call(arguments, 0)
      ));
    };
  }

  function getCurrentThreshold () {
    return {
      top: window.scrollY,
      bottom: getViewportBottomPosition()
    }
  }

  function loadImage(placeholder) {
    var small = placeholder.querySelector('.img-small');

    // 1: load small image and show it
    // var img = new Image();
    // img.src = small.src;
    // img.onload = function () {
    //   small.classList.add('loaded');
    // };

    // 2: load large image
    var imgLarge = new Image();
    imgLarge.src = placeholder.dataset.large; 
    imgLarge.alt = small.alt;
    imgLarge.onload = function () {
      imgLarge.classList.add('loaded');
    };
    placeholder.appendChild(imgLarge);
  }

  function isVisible (placeholder) {
    var offsetTop = placeholder.offsetTop;
    var offsetBottom = offsetTop + placeholder.offsetHeight;

    return offsetTop < (window.scrollY + window.innerHeight) &&
      offsetBottom > window.scrollY;
  }

  function checkCurrentThreshold (fn, acc, placeholder) {
    if (isVisible(placeholder)) {
      fn(placeholder);
      return acc;
    }
    return push(acc, placeholder);
  }

  function loadImages (placeholders, endFn) {
    var curriedCheckThreshold = curry(checkCurrentThreshold, loadImage);
    var images = reduce(placeholders, curriedCheckThreshold, []);

    return function loader () {
      images = reduce(images, curriedCheckThreshold, []);
      images.length === 0 &&  endFn();
    }
  }

  window.addEventListener('load', function() {
    var placeholders = document.querySelectorAll('.placeholder');

    var loader = loadImages(
      placeholders,
      function () {
        document.removeEventListener('scroll', loader);
        console.log('loader images listener removed');
      }
    );
    document.addEventListener('scroll', throttle(loader, 200));
  });
})();
</script>
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <h1 class="site-header__title">
      <a href="/">
        N<i>octurnidades</i>
      </a>
    </h1>

    <nav class="site-header__nav">
      
        <ul>
          <li class="main__hidden">
            <a href="/">Hogar</a>
          </li>
          
            
          
            
          
            
              <li>
                <a href="/relatos/">Relatos</a>
              </li>
            
          
            
          
            
          
            
              <li>
                <a href="/about/">About</a>
              </li>
            
          
        </ul>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="post">
  <header class="post__header">
    <h1 class="post__header__heading">
      Surcando caminos de hierro
    </h1>
    <p class="post__header__subheading">
      19 Febrero 2017

    </p>
  </header>
  
  <p>Elia observaba fascinada la consola llena de indicadores, palancas y botones
mientras el maquinista, vestido de uniforme, le mostraba la cabina de la
locomotora. 
Ya de vuelta a casa, le comentó a su abuelo que de mayor quería ser capitana de
tren. —Querrás decir conductora —le corrigió éste pero la pequeña, absorta en
sus fantasías, no le escuchó. Entonces, sonriendo para sí, recordó cuando él
también soñaba con surcar por los caminos de hierro.</p>


</div>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>El contenido de esta página está bajo licencia <a
      href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY 4.0</a>

  </div>

</footer>

    
      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
        Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92163525-1', 'auto');
  ga('send', 'pageview');

</script>

    

  </body>
</html>
